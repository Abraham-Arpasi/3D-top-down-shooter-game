using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PlayerWeaponController : MonoBehaviour
{
    private Player player;

    //this is for creating the bullet.
    [SerializeField] private GameObject bulletPrefab;
    [SerializeField] private float bulletSpeed;
    [SerializeField] private Transform gunPoint;

    //We will be calling functions here for shooting the weapons.
    private void Start()
    {
        player = GetComponent<Player>();

        //calling the Fire action here
        player.controls.Character.Fire.performed += context => Shoot();
    }


    //This is the function that will control the shooting animation.
    private void Shoot()
    {
        //create local variable for bullet.
        GameObject newBullet = Instantiate(bulletPrefab, gunPoint.position,Quaternion.LookRotation(gunPoint.forward));

        //setting up the player animation for shooting weapons.
        GetComponentInChildren<Animator>().SetTrigger("Fire");
    }
}
